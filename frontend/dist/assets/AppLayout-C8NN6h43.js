import{r as E,j as e,R as P,L as J,g as F,d as $,u as q,a as _}from"./index-DG_6d51m.js";import{c as Y,a as A}from"./utils-CTKVyNGs.js";import{C as G}from"./chevron-down-Ca7sxcSa.js";import{c as K}from"./createLucideIcon-B-oNeuGo.js";import{a as H,E as I}from"./eye-B9CkmP_o.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],X=K("chevron-right",Q),ee=A("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",icon:"hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=E.forwardRef(({className:s,variant:f,size:r,disabled:n,...b},v)=>e.jsx("button",{className:Y(ee({variant:f,size:r,className:s})),ref:v,disabled:n,...b}));T.displayName="Button";const Z=P.forwardRef(({href:s,children:f,onClick:r,className:n,...b},v)=>s?e.jsx(J,{to:s,className:n,ref:v,onClick:r,children:f}):e.jsx("button",{className:n,ref:v,onClick:r,...b,children:f}));Z.displayName="ButtonOrLink";function S({name:s,size:f=16,className:r,...n}){return e.jsx("svg",{height:f,width:f,className:Y("fill-transparent",r),...n,"aria-hidden":!0,children:e.jsx("use",{href:`#${s}`})})}const te=A("text-default group flex items-center rounded-[10px] p-2 text-sm font-medium transition hover:bg-subtle hover:text-emphasis",{variants:{isChild:{true:"[&[aria-current='page']]:text-emphasis [&[aria-current='page']]:bg-emphasis hidden h-8 ml-16 lg:flex lg:ml-10 relative before:absolute before:left-[-24px] before:top-[-0.5rem] before:h-[calc(100%+0.5rem)] before:w-0.5 before:bg-subtle before:content-[''] [&:first-child]:before:rounded-t-full [&:last-child]:before:rounded-b-full",false:"[&[aria-current='page']]:text-emphasis mt-0.5 text-sm"},hasChild:{true:"[&[aria-current='page']]:!bg-transparent relative after:absolute after:left-[-24px] after:top-[1.5rem] after:h-[calc(100%-1.5rem)] after:w-0.5 after:bg-subtle after:content-[''] [&:first-child]:after:rounded-t-full [&:last-child]:after:rounded-b-full",false:"[&[aria-current='page']]:bg-subtle"},isFirstChild:{true:"mt-0",false:"mt-px"}},defaultVariants:{isChild:!1,hasChild:!1,isFirstChild:!1}}),se=({children:s})=>e.jsx("span",{className:"text-default ml-3",children:s}),ae=({item:s,isChild:f,index:r})=>e.jsxs(E.Fragment,{children:[e.jsxs(Z,{"data-test-id":s.name,href:s.href,className:te({isChild:f,hasChild:!!s.child,isFirstChild:f&&r===0}),"aria-current":s.isCurrent?"page":void 0,onClick:s.onToggle,children:[s.icon&&e.jsx(S,{name:s.isLoading?"rotate-cw":s.icon,className:Y("text-subtle mr-2 h-4 w-4 flex-shrink-0 rtl:ml-2 md:ltr:mx-auto lg:ltr:mr-2",s.isLoading&&"animate-spin"),"aria-hidden":"true","aria-current":s.isCurrent?"page":void 0}),e.jsxs("span",{className:"text-emphasis hidden w-full justify-between truncate text-ellipsis lg:flex",children:[s.name,s.badge&&s.badge]})]}),s.child&&s.isExpanded&&s.child.map((n,b)=>e.jsx(O,{item:n,isChild:!0,index:b},n.name))]}),O=Object.assign(ae,{Label:se});var z={exports:{}},re=z.exports,R;function ne(){return R||(R=1,(function(s,f){(function(r,n){s.exports=n()})(re,(function(){var r="day";return function(n,b,v){var h=function(i){return i.add(4-i.isoWeekday(),r)},x=b.prototype;x.isoWeekYear=function(){return h(this).year()},x.isoWeek=function(i){if(!this.$utils().u(i))return this.add(7*(i-this.isoWeek()),r);var y,w,o,p,l=h(this),t=(y=this.isoWeekYear(),w=this.$u,o=(w?v.utc:v)().year(y).startOf("year"),p=4-o.isoWeekday(),o.isoWeekday()>4&&(p+=7),o.add(p,r));return l.diff(t,"week")+1},x.isoWeekday=function(i){return this.$utils().u(i)?this.day()||7:this.day(this.day()%7?i:i-7)};var a=x.startOf;x.startOf=function(i,y){var w=this.$utils(),o=!!w.u(y)||y;return w.p(i)==="isoweek"?o?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(i,y)}}}))})(z)),z.exports}var ie=ne();const oe=F(ie);var W={exports:{}},le=W.exports,V;function ce(){return V||(V=1,(function(s,f){(function(r,n){s.exports=n()})(le,(function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(b,v,h){var x,a=function(o,p,l){l===void 0&&(l={});var t=new Date(o),c=(function(j,g){g===void 0&&(g={});var m=g.timeZoneName||"short",N=j+"|"+m,u=n[N];return u||(u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:j,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:m}),n[N]=u),u})(p,l);return c.formatToParts(t)},i=function(o,p){for(var l=a(o,p),t=[],c=0;c<l.length;c+=1){var j=l[c],g=j.type,m=j.value,N=r[g];N>=0&&(t[N]=parseInt(m,10))}var u=t[3],D=u===24?0:u,M=t[0]+"-"+t[1]+"-"+t[2]+" "+D+":"+t[4]+":"+t[5]+":000",d=+o;return(h.utc(M).valueOf()-(d-=d%1e3))/6e4},y=v.prototype;y.tz=function(o,p){o===void 0&&(o=x);var l,t=this.utcOffset(),c=this.toDate(),j=c.toLocaleString("en-US",{timeZone:o}),g=Math.round((c-new Date(j))/1e3/60),m=15*-Math.round(c.getTimezoneOffset()/15)-g;if(!Number(m))l=this.utcOffset(0,p);else if(l=h(j,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(m,!0),p){var N=l.utcOffset();l=l.add(t-N,"minute")}return l.$x.$timezone=o,l},y.offsetName=function(o){var p=this.$x.$timezone||h.tz.guess(),l=a(this.valueOf(),p,{timeZoneName:o}).find((function(t){return t.type.toLowerCase()==="timezonename"}));return l&&l.value};var w=y.startOf;y.startOf=function(o,p){if(!this.$x||!this.$x.$timezone)return w.call(this,o,p);var l=h(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return w.call(l,o,p).tz(this.$x.$timezone,!0)},h.tz=function(o,p,l){var t=l&&p,c=l||p||x,j=i(+h(),c);if(typeof o!="string")return h(o).tz(c);var g=(function(D,M,d){var k=D-60*M*1e3,C=i(k,d);if(M===C)return[k,M];var U=i(k-=60*(C-M)*1e3,d);return C===U?[k,C]:[D-60*Math.min(C,U)*1e3,Math.max(C,U)]})(h.utc(o,t).valueOf(),j,c),m=g[0],N=g[1],u=h(m).utcOffset(N);return u.$x.$timezone=c,u},h.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},h.tz.setDefault=function(o){x=o}}}))})(W)),W.exports}var ue=ce();const de=F(ue);var L={exports:{}},fe=L.exports,B;function he(){return B||(B=1,(function(s,f){(function(r,n){s.exports=n()})(fe,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,b=/([+-]|\d\d)/g;return function(v,h,x){var a=h.prototype;x.utc=function(t){var c={date:t,utc:!0,args:arguments};return new h(c)},a.utc=function(t){var c=x(this.toDate(),{locale:this.$L,utc:!0});return t?c.add(this.utcOffset(),r):c},a.local=function(){return x(this.toDate(),{locale:this.$L,utc:!1})};var i=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),i.call(this,t)};var y=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else y.call(this)};var w=a.utcOffset;a.utcOffset=function(t,c){var j=this.$utils().u;if(j(t))return this.$u?0:j(this.$offset)?w.call(this):this.$offset;if(typeof t=="string"&&(t=(function(u){u===void 0&&(u="");var D=u.match(n);if(!D)return null;var M=(""+D[0]).match(b)||["-",0,0],d=M[0],k=60*+M[1]+ +M[2];return k===0?0:d==="+"?k:-k})(t),t===null))return this;var g=Math.abs(t)<=16?60*t:t;if(g===0)return this.utc(c);var m=this.clone();if(c)return m.$offset=g,m.$u=!1,m;var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(m=this.local().add(g+N,r)).$offset=g,m.$x.$localOffset=N,m};var o=a.format;a.format=function(t){var c=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,c)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var p=a.toDate;a.toDate=function(t){return t==="s"&&this.$offset?x(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var l=a.diff;a.diff=function(t,c,j){if(t&&this.$u===t.$u)return l.call(this,t,c,j);var g=this.local(),m=x(t).local();return l.call(g,m,c,j)}}}))})(L)),L.exports}var me=he();const xe=F(me);$.extend(oe);$.extend(de);$.extend(xe);function pe(s,f){const r=[],n=$(s).startOf("day"),b=$(f).endOf("day");let v=n;for(;v.isBefore(b)||v.isSame(b,"day");)r.push(v.toDate()),v=v.add(1,"day");return r}function we(s){const f=$(s).startOf("week"),r=$(s).endOf("week");return{startDate:f.toDate(),endDate:r.toDate(),days:pe(f.toDate(),r.toDate())}}function De(s){return s===0?"12 AM":s===12?"12 PM":s<12?`${s} AM`:`${s-12} PM`}function ve(s){return $(s).isSame($(),"day")}function Me(s,f){const r=$(s),n=$(f);return r.month()===n.month()?`${r.format("MMM D")} - ${n.format("D, YYYY")}`:r.year()===n.year()?`${r.format("MMM D")} - ${n.format("MMM D, YYYY")}`:`${r.format("MMM D, YYYY")} - ${n.format("MMM D, YYYY")}`}const ge=({className:s,onDateSelect:f})=>{const{currentDate:r,selectedDate:n,setCurrentDate:b,setSelectedDate:v}=q(),h=r.getFullYear(),x=r.getMonth(),a=$(r).startOf("month"),i=$(r).endOf("month"),y=a.day(),w=i.date(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["S","M","T","W","T","F","S"],l=()=>{b($(r).subtract(1,"month").toDate())},t=()=>{b($(r).add(1,"month").toDate())},c=()=>{b(new Date)},j=u=>{const D=new Date(h,x,u);v(D),f==null||f(D)},g=u=>{const D=new Date(h,x,u);return ve(D)},m=u=>n?n.getDate()===u&&n.getMonth()===x&&n.getFullYear()===h:!1,N=()=>{const u=[];for(let d=0;d<y;d++)u.push(e.jsx("div",{className:"w-7 h-7"},`empty-start-${d}`));for(let d=1;d<=w;d++)u.push(e.jsxs("button",{onClick:()=>j(d),className:Y("w-7 h-7 text-xs rounded-md hover:bg-subtle transition-colors","flex items-center justify-center relative",{"bg-brand-default text-brand":m(d),"bg-subtle":g(d)&&!m(d),"text-emphasis hover:bg-subtle":!g(d)&&!m(d)}),children:[d,g(d)&&!m(d)&&e.jsx("div",{className:"absolute bottom-0.5 w-0.5 h-0.5 bg-brand-default rounded-full"})]},d));const M=42-(y+w);for(let d=0;d<M;d++)u.push(e.jsx("div",{className:"w-7 h-7"},`empty-end-${d}`));return u};return e.jsxs("div",{className:Y("bg-default border border-subtle rounded-lg p-3",s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(T,{variant:"secondary",size:"sm",onClick:c,className:"text-xs px-1.5 py-0.5 h-6",children:"Today"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"icon",size:"sm",onClick:l,className:"hover:bg-subtle w-5 h-5",children:e.jsx(S,{name:"chevron-left",className:"h-3 w-3"})}),e.jsxs("h3",{className:"text-xs font-semibold text-emphasis min-w-[80px] text-center",children:[o[x]," ",h]}),e.jsx(T,{variant:"icon",size:"sm",onClick:t,className:"hover:bg-subtle w-5 h-5",children:e.jsx(S,{name:"chevron-right",className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 mb-2",children:p.map(u=>e.jsx("div",{className:"w-7 h-5 text-xs font-medium text-subtle flex items-center justify-center",children:u},u))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:N()})]})};function ke({children:s}){const{setSelectedDate:f}=q(),{teams:r,toggleTeamVisibility:n,toggleMemberVisibility:b}=_(),[v,h]=E.useState([]),x=a=>{h(i=>i.includes(a)?i.filter(y=>y!==a):[...i,a])};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("aside",{className:"bg-muted border-muted fixed left-0 hidden h-full w-14 flex-col overflow-y-auto overflow-x-hidden border-r md:sticky md:flex lg:w-72 lg:px-4",children:e.jsxs("div",{className:"flex h-full flex-col justify-between py-3 lg:pt-4",children:[e.jsxs("div",{children:[e.jsx("header",{className:"items-center justify-between md:hidden lg:flex mb-6",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 hover:bg-subtle rounded-md cursor-pointer",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300"}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("p",{className:"text-sm font-medium text-emphasis",children:"John Doe"}),e.jsx("p",{className:"text-xs text-default",children:"john@example.com"})]})]})})}),e.jsx("div",{className:"hidden lg:block mb-6",children:e.jsxs(T,{variant:"default",className:"w-full justify-start bg-default text-emphasis hover:bg-subtle border border-subtle rounded-full py-3 px-6 font-medium text-sm transition-all duration-200",size:"lg",children:[e.jsx(S,{name:"plus",className:"h-5 w-5 mr-3 text-emphasis"}),"Create",e.jsx(S,{name:"chevron-down",className:"h-4 w-4 ml-auto text-subtle"})]})}),e.jsx("div",{className:"hidden lg:block mb-6",children:e.jsx(ge,{onDateSelect:a=>f(a),className:"mx-0"})}),e.jsxs("nav",{className:"space-y-0.5",children:[e.jsx(O,{item:{name:"Bookings",href:"/home",icon:"calendar"}}),e.jsx(O,{item:{name:"Availability",href:"/availability",icon:"clock"}}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(O,{item:{name:"Teams",href:"/teams",icon:"users"}}),r.filter(a=>a.isVisible).map(a=>e.jsxs("div",{className:"ml-4 space-y-0.5",children:[e.jsxs("div",{className:"flex items-center justify-between group hover:bg-subtle rounded-md px-2 py-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 cursor-pointer",onClick:()=>x(a.id),children:[v.includes(a.id)?e.jsx(G,{className:"h-3 w-3 text-default"}):e.jsx(X,{className:"h-3 w-3 text-default"}),e.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:a.color}}),e.jsx("span",{className:"text-sm text-emphasis font-medium truncate",children:a.name})]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),n(a.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded",title:a.isVisible?"Hide team from sidebar":"Show team in sidebar",children:a.isVisible?e.jsx(H,{className:"h-3 w-3 text-default"}):e.jsx(I,{className:"h-3 w-3 text-default"})})]}),v.includes(a.id)&&e.jsx("div",{className:"ml-4 space-y-0.5",children:a.members.map(i=>e.jsxs("div",{className:"flex items-center justify-between group hover:bg-subtle rounded-md px-2 py-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),e.jsx("span",{className:`text-xs truncate ${i.isVisible?"text-emphasis font-medium":"text-muted"}`,children:i.name})]}),e.jsx("button",{onClick:()=>b(a.id,i.id),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded",title:i.isVisible?"Hide from calendar":"Show in calendar",children:i.isVisible?e.jsx(H,{className:"h-3 w-3 text-default"}):e.jsx(I,{className:"h-3 w-3 text-default"})})]},i.id))})]},a.id))]})]})]}),e.jsxs("nav",{className:"space-y-0.5",children:[e.jsx(O,{item:{name:"Settings",href:"/settings",icon:"settings"}}),e.jsx(O,{item:{name:"Help",href:"/help",icon:"circle-help"}})]})]})}),e.jsx("div",{className:"flex w-0 flex-1 flex-col h-screen",children:e.jsx("main",{className:"flex-1 flex flex-col bg-muted overflow-hidden w-full",children:e.jsx("div",{className:"flex-1 w-full",children:s})})})]})}export{ke as A,T as B,S as I,Me as a,De as f,we as g,ve as i};
